#IP地址与子网划分

##IPv4地址分类

**A类地址数量：**可以容纳的主机数量为2^24-2台，因为A类地址的四段（4个字节）地址中，第1段（即8bit位）是网络号，后24位才是地址号，减去的2台地址是全0的和全1的地址，**全0表示网络的地址而非主机地址**，**全1表示这个网络的广播地址**；并且为了分类，规定A类地址的网络号首位为0；

**B类地址：**规定前两段为网络号，后两段为主机号，容纳的主机数为2^16-2=65534个；

**C类地址：**前三段为网络地址，后一段为主机地址，容纳主机数2^8-2=254台；

**那么问题来了：**给一个机构分配网络地址，这个机构有500台主机，那么C类地址不够，B类地址又太多了，所以既然BC类地址都不合适，如何改良划分方式以适应性更多的应用场景？

这就引出了IP地址发展的**第二个阶段**，提出了**子网划分**的技术！

比如将6万多个B类地址划分成多个子网，每个子网可以容纳1000多台主机，这样解决了部分问题，但仍然没有解决所有问题，因为有时我们不但要划分子网，还可能需要将多个小的子网组合成更大的网络。

这又引出了IP地址划分的**第三个阶段**，提出了**无分类的网络/无类域间路由**的概念！

无分类的网络是如何表达的呢？比如**172.18.129.0/24**，按原来的分类方式172是在[128,191]这个区间，属于B类地址，但地址后加了**/24**，表示前24位是网络后，后8位则为主机号，所以这个网络可以容纳的主机数实际上是254台，打破了类别的概念。

考试时经常考查的是：给定一个场景，做网络的划分/超网（做超网是指把多个网络汇聚成一个更大的网络，而子网划分是把一个网络划分成多个网络）。

![](/imgs/1.5.5-1IPv4地址的分类.png)

##子网划分

**子网掩码：**用来区分一个网络地址，哪些部分是网络号，哪些部分为主机号，子网掩码中取值为1的是网络号，取值为0的是主机号