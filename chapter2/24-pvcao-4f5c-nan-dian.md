#PV操作-难点

PV操作是操作系统课程中的难点，应用较为灵活，要理解它在进程并发过程中，所起到的作用。

**临界资源**：进程间需要互斥方式进行共享访问的资源，比如打印机、磁带机等（比如前面的**独木桥**就相当于一个临界资源）；

**临界区**：通俗来讲临界区是一个**代码段**，它是每个进程中访问临界资源的那段代码；

**信号量**：PV操作中离不开信号量，比如P(S)、V(S)，其中的S就是信号量，它是主要应用于PV操作中的一种专属变量。

![](/imgs/1.3.4-1PV操作.png)

#具体问题-深入理解PV操作

1. 如果没有PV操作，会产生什么问题？

以单缓冲区为例，如果没有PV操作，那么生产者在生产产品送入到缓冲区时，就又可以溢出，而消费者在从缓冲区取出产品的时候，也会面临没有产品可取的情况。

![](/imgs/1.3.4-2深入理解PV操作.png)

2. 引入PV操作：

生产者第二次生产产品后，S1=-1，就会把当前进程送入进程队列中阻塞，那么第二次生产的产品就不会被送入缓冲区；